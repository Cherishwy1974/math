<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>函数增量实验室</title>
    
    <!-- MathJax配置 -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true
            },
            startup: {
                pageReady: () => {
                    return MathJax.startup.defaultPageReady().then(() => {
                        console.log('MathJax加载完成');
                    });
                }
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
            }
        };
    </script>
    <script defer src="../common-assets/js/mathjax-3.2.2-tex-svg.min.js"></script>
    
    <style>
        :root {
            --h1-size: 22px;      
            --h2-size: 20px;      
            --h3-size: 18px;      
            --btn-size: 16px;     
            --formula-size: 20px; 
            --text-size: 16px;
            
            --primary: #4f46e5;
            --primary-light: #6366f1;
            --primary-dark: #3730a3;
            --light: #ffffff;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-600: #4b5563;
            --gray-800: #1f2937;
            --border: #e5e7eb;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #3b82f6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        *::-webkit-scrollbar {
            width: 0;
            background: transparent;
        }
        
        * {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', Arial, sans-serif;
            font-size: var(--text-size);
            line-height: 1.5;
            background: var(--gray-50);
            color: var(--gray-800);
        }

        .container {
            width: 100%;
            max-width: 1400px;
            height: 100vh;
            max-height: 700px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            background: var(--light);
        }

        .header {
            background: var(--primary);
            color: var(--light);
            padding: 8px 20px;
            height: 40px;
            display: flex;
            align-items: center;
        }

        .header h1 {
            font-size: var(--h2-size);
            margin: 0;
        }

        .main {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .sidebar {
            width: 120px;
            background: var(--gray-50);
            border-right: 1px solid var(--border);
            padding: 10px 8px;
        }

        .nav-btn {
            width: 100%;
            padding: 8px;
            margin-bottom: 4px;
            background: transparent;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: var(--text-size);
            color: var(--gray-600);
            text-align: left;
            transition: all 0.2s;
        }

        .nav-btn:hover {
            background: var(--gray-100);
        }

        .nav-btn.active {
            background: var(--primary);
            color: var(--light);
        }

        .content {
            flex: 1;
            display: none;
            padding: 16px;
            overflow-y: auto;
        }

        .content.active {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .column {
            display: flex;
            flex-direction: column;
            gap: 12px;
            overflow-y: auto;
        }

        .card {
            background: var(--light);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 12px;
        }

        .card h3 {
            font-size: var(--h3-size);
            color: var(--primary);
            margin-bottom: 8px;
        }

        .input-group {
            margin-bottom: 8px;
        }

        .input-group label {
            display: block;
            margin-bottom: 4px;
            font-size: var(--text-size);
            font-weight: 500;
        }

        .input-group input,
        .input-group select {
            width: 100%;
            padding: 8px;
            border: 1px solid var(--border);
            border-radius: 4px;
            font-size: var(--text-size);
            background: var(--gray-50);
        }

        .btn {
            padding: 8px 16px;
            background: var(--primary);
            color: var(--light);
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: var(--btn-size);
            transition: all 0.2s;
        }

        .btn:hover {
            background: var(--primary-dark);
        }

        .result {
            background: var(--gray-50);
            padding: 8px;
            border-radius: 4px;
            border: 1px solid var(--primary);
            text-align: center;
            font-size: var(--text-size);
            margin: 8px 0;
            min-height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .formula-box {
            background: #f0f7ff;
            padding: 8px 12px;
            border-radius: 4px;
            border-left: 3px solid var(--primary);
            margin: 8px 0;
            text-align: center;
            font-size: var(--formula-size);
        }

        .info-box {
            background: var(--gray-50);
            padding: 8px;
            border-radius: 4px;
            margin: 6px 0;
            font-size: var(--text-size);
            text-align: center;
        }

        .steps {
            background: #fff9e6;
            padding: 10px;
            border-radius: 4px;
            border-left: 3px solid #f59e0b;
            line-height: 1.6;
            font-size: var(--text-size);
        }

        .canvas-container {
            border: 1px solid var(--gray-200);
            border-radius: 4px;
            background: #fafafa;
            padding: 10px;
            min-height: 200px;
            max-height: 400px;
            overflow: hidden;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .canvas-container canvas {
            max-width: 100%;
            max-height: 100%;
            display: block;
            margin: 0 auto;
        }

        .slider-group {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px;
            background: var(--gray-50);
            border-radius: 4px;
            margin-top: 8px;
        }

        .slider-group label {
            min-width: 60px;
            font-size: var(--text-size);
        }

        .slider {
            flex: 1;
            height: 4px;
            -webkit-appearance: none;
            appearance: none;
            background: var(--gray-200);
            outline: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
        }

        .slider-value {
            min-width: 40px;
            text-align: center;
            font-weight: 600;
            color: var(--primary);
        }

        .increment-display {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin: 8px 0;
        }

        .increment-item {
            text-align: center;
            padding: 8px;
            background: var(--gray-50);
            border-radius: 4px;
        }

        .increment-label {
            font-size: 14px;
            color: var(--gray-600);
        }

        .increment-value {
            font-size: 18px;
            font-weight: bold;
            margin-top: 4px;
        }

        .positive {
            color: var(--success);
        }

        .negative {
            color: var(--danger);
        }

        @media (max-width: 768px) {
            .main {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                height: auto;
                border-right: none;
                border-bottom: 1px solid var(--border);
                padding: 8px 16px;
                display: flex;
                flex-direction: row;
                gap: 8px;
                overflow-x: auto;
                flex-shrink: 0;
                justify-content: center;
            }

            .nav-btn {
                min-width: 90px;
                text-align: center;
                margin-bottom: 0;
                white-space: nowrap;
                flex-shrink: 0;
            }

            .content.active {
                grid-template-columns: 1fr;
                gap: 16px;
            }
        }
    </style>

    <style>
        .return-home-panel {
            position: fixed;
            top: 16px;
            left: 16px;
            display: flex;
            gap: 10px;
            z-index: 9999;
            flex-wrap: wrap;
        }
        .return-home-panel .return-link {
            padding: 8px 14px;
            border-radius: 999px;
            background: rgba(15, 23, 42, 0.8);
            color: #f8fafc;
            font-size: 14px;
            text-decoration: none;
            box-shadow: 0 6px 20px rgba(15, 23, 42, 0.25);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .return-home-panel .return-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 24px rgba(15, 23, 42, 0.35);
        }
        .return-home-panel .return-link.return-main {
            background: rgba(79, 70, 229, 0.85);
        }
        @media (max-width: 640px) {
            .return-home-panel {
                top: 12px;
                left: 12px;
                right: 12px;
                justify-content: center;
            }
            .return-home-panel .return-link {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="return-home-panel">
        <a class="return-link return-sub" href="index.html">← 返回目录</a>
        <a class="return-link return-main" href="../index.html">⌂ 返回主站</a>
    </div>
    <div class="container">
        <header class="header">
            <h1>函数增量实验室</h1>
        </header>

        <div class="main">
            <nav class="sidebar">
                <button class="nav-btn active" onclick="switchPanel('concept')">基本概念</button>
                <button class="nav-btn" onclick="switchPanel('visual')">可视化</button>
                <button class="nav-btn" onclick="switchPanel('practice')">实践练习</button>
            </nav>

            <!-- 基本概念页面 -->
            <div class="content active" id="concept">
                <div class="column">
                    <div class="card">
                        <h3>函数增量定义</h3>
                        <div class="formula-box">
                            $\Delta y = f(x_0 + \Delta x) - f(x_0)$
                        </div>
                        <div class="steps">
                            <strong>理解要点：</strong><br>
                            • Δx：自变量的变化量<br>
                            • Δy：函数值的变化量<br>
                            • Δx 可正可负<br>
                            • Δy 反映函数增减趋势
                        </div>
                    </div>

                    <div class="card">
                        <h3>增量的意义</h3>
                        <div class="info-box">
                            Δy > 0：函数在该区间递增
                        </div>
                        <div class="info-box">
                            Δy < 0：函数在该区间递减
                        </div>
                        <div class="info-box">
                            Δy = 0：函数值不变
                        </div>
                    </div>
                </div>

                <div class="column">
                    <div class="card">
                        <h3>示例：f(x) = x²</h3>
                        <div class="increment-display">
                            <div class="increment-item">
                                <div class="increment-label">x₀</div>
                                <div class="increment-value" id="x0Display">1.5</div>
                            </div>
                            <div class="increment-item">
                                <div class="increment-label">Δx</div>
                                <div class="increment-value" id="dxDisplay">0.5</div>
                            </div>
                            <div class="increment-item">
                                <div class="increment-label">Δy</div>
                                <div class="increment-value positive" id="dyDisplay">1.75</div>
                            </div>
                        </div>
                        <div class="steps">
                            计算过程：<br>
                            f(1.5) = 2.25<br>
                            f(2.0) = 4.00<br>
                            Δy = 4.00 - 2.25 = 1.75
                        </div>
                    </div>

                    <div class="card">
                        <h3>图形理解</h3>
                        <div class="canvas-container" style="min-height: 180px;">
                            <canvas id="conceptGraph" width="400" height="180"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 可视化页面 -->
            <div class="content" id="visual">
                <div class="column">
                    <div class="card">
                        <h3>参数设置</h3>
                        <div class="input-group">
                            <label>选择函数</label>
                            <select id="funcSelect" onchange="updateVisual()">
                                <option value="x^2">f(x) = x²</option>
                                <option value="x">f(x) = x</option>
                                <option value="sqrt">f(x) = √x</option>
                                <option value="1/x">f(x) = 1/x</option>
                                <option value="sin">f(x) = sin(x)</option>
                            </select>
                        </div>
                        <div class="slider-group">
                            <label>x₀</label>
                            <input type="range" class="slider" id="x0Slider" 
                                   min="-3" max="3" step="0.1" value="1">
                            <span class="slider-value" id="x0Value">1.0</span>
                        </div>
                        <div class="slider-group">
                            <label>Δx</label>
                            <input type="range" class="slider" id="dxSlider" 
                                   min="-2" max="2" step="0.1" value="0.5">
                            <span class="slider-value" id="dxValue">0.5</span>
                        </div>
                    </div>

                    <div class="card">
                        <h3>增量计算</h3>
                        <div class="result" id="calculationResult">
                            f(1.0) = 1.00, f(1.5) = 2.25, Δy = 1.25
                        </div>
                        <div class="steps" id="calculationSteps">
                            <strong>详细步骤：</strong><br>
                            1. 计算 f(x₀) = f(1.0) = 1.00<br>
                            2. 计算 f(x₀ + Δx) = f(1.5) = 2.25<br>
                            3. Δy = 2.25 - 1.00 = 1.25
                        </div>
                    </div>
                </div>

                <div class="column">
                    <div class="card">
                        <h3>函数图像</h3>
                        <div class="canvas-container">
                            <canvas id="visualGraph" width="600" height="350"></canvas>
                        </div>
                        <button class="btn" onclick="animateIncrement()">动画演示</button>
                    </div>

                    <div class="card">
                        <h3>增量趋势</h3>
                        <div class="info-box" id="trendInfo">
                            当前：函数值增加（Δy > 0）
                        </div>
                    </div>
                </div>
            </div>

            <!-- 实践练习页面 -->
            <div class="content" id="practice">
                <div class="column">
                    <div class="card">
                        <h3>练习题目</h3>
                        <div class="steps">
                            已知 f(x) = x² - 2x + 1<br>
                            计算以下增量：
                        </div>
                        <div class="input-group">
                            <label>题目1：x₀ = 1, Δx = 0.1, Δy = ?</label>
                            <input type="number" id="answer1" placeholder="输入答案">
                        </div>
                        <div class="input-group">
                            <label>题目2：x₀ = 2, Δx = -0.5, Δy = ?</label>
                            <input type="number" id="answer2" placeholder="输入答案">
                        </div>
                        <button class="btn" onclick="checkAnswers()">检查答案</button>
                        <div class="result" id="practiceResult" style="display: none;">
                            结果将显示在这里
                        </div>
                    </div>

                    <div class="card">
                        <h3>解题提示</h3>
                        <div class="steps">
                            1. 先计算 f(x₀)<br>
                            2. 再计算 f(x₀ + Δx)<br>
                            3. 两者相减得 Δy<br>
                            4. 注意 Δx 的正负
                        </div>
                    </div>
                </div>

                <div class="column">
                    <div class="card">
                        <h3>应用场景</h3>
                        <div class="info-box">
                            <strong>速度与加速度</strong><br>
                            位移的增量 / 时间增量 = 平均速度
                        </div>
                        <div class="info-box">
                            <strong>成本分析</strong><br>
                            成本增量 / 产量增量 = 边际成本
                        </div>
                        <div class="info-box">
                            <strong>误差分析</strong><br>
                            测量值增量反映测量精度
                        </div>
                    </div>

                    <div class="card">
                        <h3>增量与导数</h3>
                        <div class="formula-box">
                            $f'(x_0) = \lim\limits_{\Delta x \to 0} \frac{\Delta y}{\Delta x}$
                        </div>
                        <div class="steps">
                            当 Δx 趋向 0 时，<br>
                            增量比 Δy/Δx 趋向导数值<br>
                            这是微分的基础
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function renderMath() {
            if (window.MathJax && MathJax.typesetPromise) {
                MathJax.typesetPromise().catch(err => console.log('渲染错误:', err));
            }
        }

        function switchPanel(panel) {
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(panel).classList.add('active');
            
            setTimeout(() => {
                renderMath();
                if (panel === 'concept') {
                    drawConceptGraph();
                } else if (panel === 'visual') {
                    updateVisual();
                }
            }, 50);
        }

        function drawConceptGraph() {
            const canvas = document.getElementById('conceptGraph');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            // 坐标轴
            ctx.strokeStyle = '#374151';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(30, height - 30);
            ctx.lineTo(width - 30, height - 30);
            ctx.moveTo(30, 30);
            ctx.lineTo(30, height - 30);
            ctx.stroke();
            
            // 绘制 f(x) = x²
            ctx.strokeStyle = '#4f46e5';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            for(let px = 30; px < width - 30; px++) {
                const x = (px - 30) / 50 - 1;
                const y = x * x;
                const py = height - 30 - y * 30;
                
                if(px === 30) ctx.moveTo(px, py);
                else ctx.lineTo(px, py);
            }
            ctx.stroke();
            
            // 标记增量
            const x0 = 1.5;
            const dx = 0.5;
            const y0 = x0 * x0;
            const y1 = (x0 + dx) * (x0 + dx);
            
            const px0 = 30 + (x0 + 1) * 50;
            const px1 = 30 + (x0 + dx + 1) * 50;
            const py0 = height - 30 - y0 * 30;
            const py1 = height - 30 - y1 * 30;
            
            // Δx
            ctx.strokeStyle = '#10b981';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(px0, height - 25);
            ctx.lineTo(px1, height - 25);
            ctx.stroke();
            
            // Δy
            ctx.strokeStyle = '#ef4444';
            ctx.beginPath();
            ctx.moveTo(px1 - 5, py0);
            ctx.lineTo(px1 - 5, py1);
            ctx.stroke();
            
            // 标注
            ctx.fillStyle = '#10b981';
            ctx.font = '12px Arial';
            ctx.fillText('Δx', (px0 + px1) / 2 - 8, height - 10);
            
            ctx.fillStyle = '#ef4444';
            ctx.fillText('Δy', px1 + 5, (py0 + py1) / 2);
        }

        function updateVisual() {
            const func = document.getElementById('funcSelect').value;
            const x0 = parseFloat(document.getElementById('x0Slider').value);
            const dx = parseFloat(document.getElementById('dxSlider').value);
            
            let y0, y1;
            
            switch(func) {
                case 'x^2':
                    y0 = x0 * x0;
                    y1 = (x0 + dx) * (x0 + dx);
                    break;
                case 'x':
                    y0 = x0;
                    y1 = x0 + dx;
                    break;
                case 'sqrt':
                    y0 = x0 >= 0 ? Math.sqrt(x0) : NaN;
                    y1 = (x0 + dx) >= 0 ? Math.sqrt(x0 + dx) : NaN;
                    break;
                case '1/x':
                    y0 = x0 !== 0 ? 1 / x0 : NaN;
                    y1 = (x0 + dx) !== 0 ? 1 / (x0 + dx) : NaN;
                    break;
                case 'sin':
                    y0 = Math.sin(x0);
                    y1 = Math.sin(x0 + dx);
                    break;
            }
            
            const dy = y1 - y0;
            
            document.getElementById('calculationResult').innerHTML = 
                `f(${x0.toFixed(1)}) = ${y0.toFixed(2)}, f(${(x0+dx).toFixed(1)}) = ${y1.toFixed(2)}, Δy = ${dy.toFixed(2)}`;
            
            document.getElementById('calculationSteps').innerHTML = 
                `<strong>详细步骤：</strong><br>
                1. 计算 f(x₀) = f(${x0.toFixed(1)}) = ${y0.toFixed(2)}<br>
                2. 计算 f(x₀ + Δx) = f(${(x0+dx).toFixed(1)}) = ${y1.toFixed(2)}<br>
                3. Δy = ${y1.toFixed(2)} - ${y0.toFixed(2)} = ${dy.toFixed(2)}`;
            
            const trendInfo = document.getElementById('trendInfo');
            if (dy > 0) {
                trendInfo.innerHTML = '当前：函数值增加（Δy > 0）';
                trendInfo.style.color = 'var(--success)';
            } else if (dy < 0) {
                trendInfo.innerHTML = '当前：函数值减少（Δy < 0）';
                trendInfo.style.color = 'var(--danger)';
            } else {
                trendInfo.innerHTML = '当前：函数值不变（Δy = 0）';
                trendInfo.style.color = 'var(--gray-600)';
            }
            
            drawVisualGraph();
        }

        function drawVisualGraph() {
            const canvas = document.getElementById('visualGraph');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            // 坐标轴
            ctx.strokeStyle = '#374151';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(50, height - 40);
            ctx.lineTo(width - 30, height - 40);
            ctx.moveTo(width/2, 30);
            ctx.lineTo(width/2, height - 40);
            ctx.stroke();
            
            const func = document.getElementById('funcSelect').value;
            const x0 = parseFloat(document.getElementById('x0Slider').value);
            const dx = parseFloat(document.getElementById('dxSlider').value);
            
            // 绘制函数
            ctx.strokeStyle = '#4f46e5';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            for(let px = 50; px < width - 30; px++) {
                const x = (px - width/2) / 50;
                let y;
                
                switch(func) {
                    case 'x^2': y = x * x; break;
                    case 'x': y = x; break;
                    case 'sqrt': y = x >= 0 ? Math.sqrt(x) : NaN; break;
                    case '1/x': y = x !== 0 ? 1 / x : NaN; break;
                    case 'sin': y = Math.sin(x * 2); break;
                }
                
                if (!isNaN(y) && Math.abs(y) < 10) {
                    const py = height - 40 - y * 50;
                    if (px === 50 || isNaN(y)) ctx.moveTo(px, py);
                    else ctx.lineTo(px, py);
                }
            }
            ctx.stroke();
            
            // 标记增量
            let y0, y1;
            switch(func) {
                case 'x^2':
                    y0 = x0 * x0;
                    y1 = (x0 + dx) * (x0 + dx);
                    break;
                case 'x':
                    y0 = x0;
                    y1 = x0 + dx;
                    break;
                case 'sqrt':
                    y0 = x0 >= 0 ? Math.sqrt(x0) : NaN;
                    y1 = (x0 + dx) >= 0 ? Math.sqrt(x0 + dx) : NaN;
                    break;
                case '1/x':
                    y0 = x0 !== 0 ? 1 / x0 : NaN;
                    y1 = (x0 + dx) !== 0 ? 1 / (x0 + dx) : NaN;
                    break;
                case 'sin':
                    y0 = Math.sin(x0 * 2);
                    y1 = Math.sin((x0 + dx) * 2);
                    break;
            }
            
            const px0 = width/2 + x0 * 50;
            const px1 = width/2 + (x0 + dx) * 50;
            const py0 = height - 40 - y0 * 50;
            const py1 = height - 40 - y1 * 50;
            
            // 画点
            ctx.fillStyle = '#ef4444';
            ctx.beginPath();
            ctx.arc(px0, py0, 4, 0, Math.PI * 2);
            ctx.arc(px1, py1, 4, 0, Math.PI * 2);
            ctx.fill();
            
            // 画增量线
            ctx.strokeStyle = '#10b981';
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(px0, py0);
            ctx.lineTo(px1, py0);
            ctx.lineTo(px1, py1);
            ctx.stroke();
            ctx.setLineDash([]);
        }

        function animateIncrement() {
            let t = 0;
            const interval = setInterval(() => {
                t += 0.02;
                if (t > 1) {
                    clearInterval(interval);
                    return;
                }
                
                const dx = parseFloat(document.getElementById('dxSlider').value);
                document.getElementById('dxSlider').value = dx * t;
                document.getElementById('dxValue').textContent = (dx * t).toFixed(1);
                updateVisual();
            }, 50);
        }

        function checkAnswers() {
            const answer1 = parseFloat(document.getElementById('answer1').value);
            const answer2 = parseFloat(document.getElementById('answer2').value);
            
            // f(x) = x² - 2x + 1
            // 题目1: x₀ = 1, Δx = 0.1
            const y0_1 = 1 - 2 + 1; // = 0
            const y1_1 = 1.21 - 2.2 + 1; // = 0.01
            const correct1 = 0.01;
            
            // 题目2: x₀ = 2, Δx = -0.5
            const y0_2 = 4 - 4 + 1; // = 1
            const y1_2 = 2.25 - 3 + 1; // = 0.25
            const correct2 = -0.75;
            
            let result = '';
            if (Math.abs(answer1 - correct1) < 0.001) {
                result += '题目1：✓ 正确！<br>';
            } else {
                result += `题目1：✗ 错误，正确答案是 ${correct1}<br>`;
            }
            
            if (Math.abs(answer2 - correct2) < 0.001) {
                result += '题目2：✓ 正确！';
            } else {
                result += `题目2：✗ 错误，正确答案是 ${correct2}`;
            }
            
            document.getElementById('practiceResult').style.display = 'block';
            document.getElementById('practiceResult').innerHTML = result;
        }

        document.getElementById('x0Slider')?.addEventListener('input', function() {
            document.getElementById('x0Value').textContent = parseFloat(this.value).toFixed(1);
            updateVisual();
        });

        document.getElementById('dxSlider')?.addEventListener('input', function() {
            document.getElementById('dxValue').textContent = parseFloat(this.value).toFixed(1);
            updateVisual();
        });

        window.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                drawConceptGraph();
                renderMath();
            }, 100);
        });
    </script>
</body>
</html>